<div
    class="h-8 bg-gradient-to-r from-[#115e59] via-[#134e4a] to-[#0f172a] text-slate-200 border-t border-teal-900/40 flex items-center justify-between px-3 text-xs select-none z-50 relative shadow-[0_-1px_3px_rgba(0,0,0,0.05)]">
    <!-- Left: Hub Trigger -->
    <div class="flex items-center gap-4">
        <!-- Hub Toggle -->
        <button (click)="hubService.toggle()" class="flex items-center gap-2 transition-colors focus:outline-none group"
            [class.text-white]="hubService.isHubOpen()" [class.font-semibold]="hubService.isHubOpen()"
            [class.text-white/80]="!hubService.isHubOpen()" [class.hover:text-white]="true">
            <i class="pi" [class.pi-angle-up]="!hubService.isHubOpen()"
                [class.pi-angle-down]="hubService.isHubOpen()"></i>

            <span class="flex items-center gap-1.5">
                <i class="pi pi-database text-[10px]"></i>
                Hub
            </span>
            <span class="ml-1 opacity-70 group-hover:opacity-100 transition-opacity">{{ statsService.totalEntities() }}
                entities</span>
        </button>

        <div class="h-3 w-[1px] bg-white/20"></div>

        <!-- Scope Selector -->
        <app-scope-indicator></app-scope-indicator>

        <button class="text-white/80 hover:text-white">
            <i class="pi pi-volume-up text-[10px]"></i>
        </button>
    </div>

    <!-- Right: Editor Stats (LIVE DATA) -->
    <div class="flex items-center gap-4 text-white/70">
        <span class="hover:text-white cursor-pointer transition-colors">{{ statsService.backlinks() }} backlinks</span>
        <span class="hover:text-white cursor-pointer transition-colors">{{ statsService.wordCount() }} words</span>
        <span>{{ statsService.charCount() }} chars</span>
        <span>{{ statsService.totalNotes() }} notes</span>

        <!-- Save Status -->
        <button *ngIf="statsService.isSaved()"
            class="flex items-center gap-1 px-2 py-0.5 rounded-full bg-teal-900/30 border border-teal-400/30 text-teal-100 hover:bg-teal-900/50 transition-colors">
            <i class="pi pi-check text-[10px]"></i>
            <span>Saved</span>
        </button>
        <button *ngIf="!statsService.isSaved()"
            class="flex items-center gap-1 px-2 py-0.5 rounded-full bg-yellow-500/10 border border-yellow-500/30 text-yellow-100 transition-colors">
            <i class="pi pi-sync text-[10px] animate-spin"></i>
            <span>Saving...</span>
        </button>
    </div>
</div>