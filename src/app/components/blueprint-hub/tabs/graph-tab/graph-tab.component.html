<div class="flex h-full w-full bg-background text-foreground">
    <!-- Left Sidebar: Entity List -->
    <div class="w-1/4 min-w-[250px] border-r border-border flex flex-col bg-muted/10">
        <div class="p-3 border-b border-border">
            <h3 class="font-semibold text-sm">Entities ({{ entities.length }})</h3>
        </div>

        <div class="flex-1 overflow-y-auto h-full">
            <div class="flex flex-col">
                <div *ngFor="let entity of entities"
                    class="flex items-center gap-3 p-3 cursor-pointer hover:bg-accent/50 transition-colors border-b border-border/50 h-[50px] w-full"
                    [class.bg-accent]="selectedEntity?.id === entity.id" (click)="selectEntity(entity)">
                    <!-- Colored Dot -->
                    <div class="w-3 h-3 rounded-full shrink-0" [style.backgroundColor]="getKindColor(entity.kind)">
                    </div>

                    <div class="flex flex-col overflow-hidden">
                        <span class="font-medium text-sm truncate">{{ entity.label }}</span>
                        <span class="text-xs text-muted-foreground truncate">{{ entity.kind }}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Right Details: Draw Panel (Placeholder) -->
    <div class="flex-1 flex flex-col items-center justify-center p-6 bg-background relative overflow-hidden">
        <!-- Grid Background Effect -->
        <div class="absolute inset-0 z-0 opacity-[0.03]"
            style="background-image: radial-gradient(#000 1px, transparent 1px); background-size: 20px 20px;">
        </div>

        <div *ngIf="!selectedEntity" class="text-center z-10 opacity-60">
            <i class="pi pi-sitemap text-4xl mb-4 text-muted-foreground"></i>
            <h3 class="text-xl font-medium">Select an entity from the list</h3>
            <p class="text-sm text-muted-foreground mt-2">to view and manage its connections</p>
        </div>

        <div *ngIf="selectedEntity" class="z-10 w-full h-full p-4 overflow-y-auto">
            <app-graph-detail [entity]="selectedEntity"></app-graph-detail>
        </div>
    </div>
</div>